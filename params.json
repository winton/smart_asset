{"name":"SmartAsset","tagline":"Smart asset packaging for Rails, Sinatra, and Stasis","body":"Smart asset packaging for Rails, Sinatra, and Stasis.\r\n\r\n[![Build Status](https://secure.travis-ci.org/winton/smart_asset.png)](http://travis-ci.org/winton/smart_asset)\r\n\r\nFeatures\r\n--------\r\n\r\nSimilar to <code>AssetPackager</code>, but with the following changes:\r\n\r\n* Uses file size and hashing to determine if a new compressed package should be created\r\n* Closure Compiler for javascript compression\r\n* YUI Compressor for css compression\r\n* Framework agnostic (adapters provided for Rails 2, Rails 3, Sinatra, and Stasis)\r\n\r\n<a name=\"installation\"></a>\r\n\r\nInstallation\r\n------------\r\n\r\n### Install gem\r\n\r\n<pre>\r\ngem install smart_asset\r\n</pre>\r\n\r\n### Install \r\n\r\n### Rails 2\r\n\r\n#### config/environment.rb\r\n\r\n<pre>\r\nconfig.gem 'smart_asset'\r\n</pre>\r\n\r\n### Rails 3\r\n\r\n#### Gemfile\r\n\r\n<pre>\r\ngem 'smart_asset'\r\n</pre>\r\n\r\n### Sinatra\r\n\r\n<pre>\r\nrequire 'sinatra/base'\r\nrequire 'smart_asset'\r\n\r\nclass Application &lt; Sinatra::Base\r\n  include SmartAsset::Adapters::Sinatra\r\nend\r\n</pre>\r\n\r\nCreate Configuration File\r\n-------------------------\r\n\r\n### config/assets.yml\r\n\r\n<pre>\r\njavascripts:\r\n  package_1:\r\n    - jquery/jquery\r\n    - underscore\r\n  package_2:\r\n    - front_page\r\nstylesheets:\r\n  package_1:\r\n    - blueprint/blueprint\r\n    - 960\r\n  package_2:\r\n    - front_page\r\n</pre>\r\n\r\nBy default, SmartAsset will look for assets in <code>public/javascripts</code> and <code>public/stylesheets</code>.\r\n\r\nCreate Packaged Assets\r\n----------------------\r\n\r\n<code>cd</code> to your project and run\r\n\r\n<pre>\r\nsmart_asset\r\n</pre>\r\n\r\nOnly the assets that have changed are repackaged.\r\n\r\nInclude Packages in Your Template\r\n---------------------------------\r\n\r\n<pre>\r\n&lt;%= javascript_include_merged :package_1, :package_2 %&gt;\r\n&lt;%= stylesheet_link_merged :package_1, :package_2 %&gt;\r\n</pre>\r\n\r\nMigrating from AssetPackager\r\n----------------------------\r\n\r\n* <code>rm vendor/plugins/asset\\_packager</code>\r\n* <a href=\"#installation\">Install SmartAsset</a>\r\n* Move <code>config/asset\\_packages.yml</code> to <code>config/assets.yml</code>\r\n* Instead of running <code>rake asset:packager:build_all</code>, run <code>smart\\_asset</code>\r\n\r\nOther Options\r\n-------------\r\n\r\n### config/assets.yml\r\n\r\nYou may add extra options to your <code>config/assets.yml</code> file.\r\n\r\nBelow are the default values (excluding <code>asset\\_host</code>):\r\n\r\n<pre>\r\n# Append random numbers to script paths on each request\r\nappend_random:\r\n  development: true\r\n\r\n# Asset host URL (defaults to ActionController::Base.asset_host or nil)\r\nasset_host:\r\n  production: http://assets%d.mydomain.com\r\n\r\n# How many asset hosts you have (use if asset_host defined with %d)\r\nasset_host_count: 4\r\n\r\n# Public directory\r\npublic: public\r\n\r\n# Package destination directory (within the public directory)\r\ndestination:\r\n  javascripts: javascripts/packaged\r\n  stylesheets: stylesheets/packaged\r\n\r\n# Asset source directories (within the public directory)\r\nsources:\r\n  javascripts: javascripts\r\n  stylesheets: stylesheets\r\n</pre>\r\n\r\n### smart\\_asset\r\n\r\nYou may use environment variables with the <code>smart\\_asset</code> command to alter its behavior.\r\n\r\n<code>DEBUG=1</code><br/>Output commands that are running, leave the tmp file around for inspection\r\n\r\n<code>PACKAGE=package\\_1</code><br/>Only compress a specific package\r\n\r\n<code>MODIFIED='12/1/2010 12:00'</code><br/>Use a default modified time other than Time.now for non-version controlled files\r\n\r\n<code>WARN=1</code><br/>Get compression warnings\r\n\r\n#### Example:\r\n\r\n<pre>\r\nWARN=1 smart_asset\r\n</pre>\r\n\r\nRunning Specs\r\n-------------\r\n\r\nForks and contributions to this project are much appreciated, but please make sure the specs run!\r\n\r\nTo run the basic specs:\r\n\r\n<pre>\r\nspec spec\r\n</pre>\r\n\r\nThere are also framework specs to make sure the helpers work in Rails 2, Rails 3, and Sinatra 1:\r\n\r\n<pre>\r\nspec/run\r\n</pre>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}